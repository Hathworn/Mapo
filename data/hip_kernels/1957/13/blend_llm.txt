```cpp
// Use shared memory to cache regions of `cmap` and reduce global memory access.
// Add coalesced access patterns for `oldd` and `newd` to improve memory efficiency.
// Adjust block size to ensure maximum occupancy and efficient memory transactions.
// Ensure the use of appropriate memory hierarchy to favor L1 cache utilization.
```