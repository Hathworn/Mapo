// Optimize thread indexing calculations
// Simplify linear indexing
// Reduce global memory access
// Use ternary for conditional