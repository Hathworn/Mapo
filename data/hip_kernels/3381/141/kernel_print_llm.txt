```
// Cache thread index to reduce repeated calls
// Minimize use of printf, use a single call for both values
```