```
// Optimize work distribution by blocks to improve memory access patterns.
// Use atomic operation for a shared counter to handle concurrent updates safely.
// Double check within bounds to ensure safety during memory updates.
```