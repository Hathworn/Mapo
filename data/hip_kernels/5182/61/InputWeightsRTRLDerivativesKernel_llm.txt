// Optimize calculation of global unique thread index  
// Precompute indices derived from partialId  
// Use register to store the sum  
// Use constant stride access pattern for memory coalescing  
// Directly compute final result  