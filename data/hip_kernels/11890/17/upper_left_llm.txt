```
// Calculate thread indices more efficiently
// Early exit for threads not processing relevant data
// Use shared memory to reduce global memory accesses (if needed)
```