// Calculate index directly for improved readability and performance
// Consider using shared memory for better performance if applicable
// Utilize ternary operations for efficiency in conditional assignments