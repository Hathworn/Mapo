```
// Consider using shared memory to cache x and y coordinates across threads
// Combine memory writes to reduce the number of global memory accesses
// Use conditional operator to efficiently set the feature mask
```