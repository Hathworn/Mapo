
```
// Use shared memory to minimize global memory access.
// Consider further optimization by avoiding atomic operations on shared memory.
// Use more threads to parallelize computation if N is large.
// Ensure proper synchronization when using shared memory.
```