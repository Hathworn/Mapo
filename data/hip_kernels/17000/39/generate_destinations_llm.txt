```
// Initialize local state once outside loop for better performance
// Optimize the loop by calculating destination directly and reduce global memory access
// Use modulo operation directly on generated random value
// Save the state back to global memory
```