```
// Combine array index calculations to minimize repetitive computation
// Fetch random state once and reuse
// Ensure coalesced memory access for the colors array
```