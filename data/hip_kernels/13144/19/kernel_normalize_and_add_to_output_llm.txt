```
// Simplified index calculation  
// Early exit for out-of-bounds indices  
// Avoid repeated memory access  
// Use fabsf to ensure single precision  
// Direct assignment without braces  
```