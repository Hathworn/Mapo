```
// Optimize pixel position calculation by reducing global memory access
// Use l directly to reduce computation
// Optimize conditional calculation by using ternary operator
```