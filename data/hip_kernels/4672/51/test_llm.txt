// Consider using shared memory to cache data
// Optimize memory access by coalescing
// Minimize register usage when calculating `diff`
