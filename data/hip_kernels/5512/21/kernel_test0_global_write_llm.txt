```
// Use a shared memory block to improve memory access efficiency
// Remove unnecessary cast, ensure mask is only shifting when needed
// Pre-increment mask to reduce shifts
// Use compound assignment for clarity
```