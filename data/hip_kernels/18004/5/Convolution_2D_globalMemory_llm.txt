```c
// Consider using shared memory to reduce global memory accesses for the mask
// Optimize memory coalescing by loading consecutive pixels across threads
// Pre-fetch data to registers to minimize redundant global memory reads
```