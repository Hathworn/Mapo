// Calculate thread index in a more efficient way
// Check if threadId is within bounds
// Optimize memory access by using shared memory
// Load data into shared memory
// Process data using shared memory
// Store results back to global memory