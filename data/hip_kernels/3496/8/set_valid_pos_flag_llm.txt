```c
// Use shared memory to reduce global memory accesses
// Load data to shared memory from global memory
// Synchronize threads after loading data to shared memory
// Synchronize threads after updating pos_buff
```