// Avoid repeated computation by storing common values
// Use shared memory for faster access