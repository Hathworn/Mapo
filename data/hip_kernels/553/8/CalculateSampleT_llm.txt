```cpp
// Utilize loop unrolling to reduce loop overhead and increase instruction-level parallelism
// Consider improving memory access patterns to enhance coalescing in global memory reads
// Precompute the reciprocal of 'num' to minimize division operations
// Ensure the conditional accesses are kept within bounds to prevent out-of-bounds memory access
// Explore the possibility of using shared memory for temporary sums to reduce global memory access
```