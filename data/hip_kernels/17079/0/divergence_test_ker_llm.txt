```
// Cache thread index for faster access
// Compute and store condition result to reduce recomputation
// Minimize divergence by grouping similar branches
```