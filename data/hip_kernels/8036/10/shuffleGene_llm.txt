```
// Corrected condition to include idx == nHalf
// Eliminate repeated memory accesses by introducing temporary variables
// Swap fitness values once outside loop
```