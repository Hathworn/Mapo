// Fetch values only once and use register for reuse
// Use ternary operator for assignment to reduce branching