```c
// Optimize memory access by coalescing input reads
// Use shared memory to reduce global memory access latency
// Unroll the loop to increase instruction throughput
// Reduce the number of integer multiplications by reusing computed values
// Optimize: compute average once
```