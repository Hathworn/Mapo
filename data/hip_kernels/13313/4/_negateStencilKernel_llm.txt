```
// Early exit condition moved to reduce divergent branches
// Use direct calculation to handle the same logic without a ternary operator
```