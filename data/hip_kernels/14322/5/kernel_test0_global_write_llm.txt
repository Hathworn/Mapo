```
// Use unsigned long long for pointers to ensure 64-bit arithmetic
// Minimize pointer arithmetic and condition checks
// Exit loop if next pointer exceeds the end pointer
// Write pattern to calculated pointer
// Efficient pattern update
// Efficient mask update
```