```
// Pre-calculate shared values to reduce repeated calculations
// Optimize pointer calculation to minimize computational overhead
// Efficiently shift mask to reduce the number of operations
// Efficiently shift pattern and mask to maintain computational efficiency
```