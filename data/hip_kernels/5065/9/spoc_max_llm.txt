// Use shared memory to reduce global memory accesses and improve performance
// Atomic operation to safely update shared memory maximum
// Store result to global output only once per block