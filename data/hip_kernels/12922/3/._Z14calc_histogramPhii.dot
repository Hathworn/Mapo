digraph "CFG for '_Z14calc_histogramPhii' function" {
	label="CFG for '_Z14calc_histogramPhii' function";

	Node0x5721450 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ead5c970",label="{%3:\l  %4 = tail call i32 @llvm.amdgcn.workgroup.id.x()\l  %5 = tail call align 4 dereferenceable(64) i8 addrspace(4)*\l... @llvm.amdgcn.dispatch.ptr()\l  %6 = getelementptr i8, i8 addrspace(4)* %5, i64 4\l  %7 = bitcast i8 addrspace(4)* %6 to i16 addrspace(4)*\l  %8 = load i16, i16 addrspace(4)* %7, align 4, !range !4, !invariant.load !5\l  %9 = zext i16 %8 to i32\l  %10 = getelementptr inbounds i8, i8 addrspace(4)* %5, i64 12\l  %11 = bitcast i8 addrspace(4)* %10 to i32 addrspace(4)*\l  %12 = load i32, i32 addrspace(4)* %11, align 4, !tbaa !6\l  %13 = mul i32 %4, %9\l  %14 = tail call i32 @llvm.amdgcn.workitem.id.x(), !range !15\l  %15 = add i32 %13, %14\l  %16 = udiv i32 %12, %9\l  %17 = mul i32 %16, %9\l  %18 = icmp ugt i32 %12, %17\l  %19 = zext i1 %18 to i32\l  %20 = add i32 %16, %19\l  %21 = mul i32 %20, %9\l  %22 = icmp ult i32 %14, 256\l  br i1 %22, label %23, label %25\l|{<s0>T|<s1>F}}"];
	Node0x5721450:s0 -> Node0x57233b0;
	Node0x5721450:s1 -> Node0x5723440;
	Node0x57233b0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#cbd8ee70",label="{%23:\l23:                                               \l  %24 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %14\l  store i32 0, i32 addrspace(3)* %24, align 4, !tbaa !16\l  br label %25\l}"];
	Node0x57233b0 -> Node0x5723440;
	Node0x5723440 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ead5c970",label="{%25:\l25:                                               \l  fence syncscope(\"workgroup\") release\l  tail call void @llvm.amdgcn.s.barrier()\l  fence syncscope(\"workgroup\") acquire\l  %26 = sub nsw i32 %2, %1\l  %27 = freeze i32 %26\l  %28 = freeze i32 %21\l  %29 = sdiv i32 %27, %28\l  %30 = mul i32 %29, %28\l  %31 = sub i32 %27, %30\l  %32 = icmp sgt i32 %29, 0\l  br i1 %32, label %33, label %133\l|{<s0>T|<s1>F}}"];
	Node0x5723440:s0 -> Node0x5722ff0;
	Node0x5723440:s1 -> Node0x5723080;
	Node0x5722ff0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d9dce170",label="{%33:\l33:                                               \l  %34 = add i32 %15, %1\l  %35 = and i32 %29, 7\l  %36 = icmp ult i32 %29, 8\l  br i1 %36, label %116, label %37\l|{<s0>T|<s1>F}}"];
	Node0x5722ff0:s0 -> Node0x5724370;
	Node0x5722ff0:s1 -> Node0x57243c0;
	Node0x57243c0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#b5cdfa70",label="{%37:\l37:                                               \l  %38 = and i32 %29, -8\l  br label %39\l}"];
	Node0x57243c0 -> Node0x57245c0;
	Node0x57245c0 [shape=record,color="#b70d28ff", style=filled, fillcolor="#c5333470",label="{%39:\l39:                                               \l  %40 = phi i32 [ 0, %37 ], [ %113, %39 ]\l  %41 = phi i32 [ 0, %37 ], [ %114, %39 ]\l  %42 = mul nsw i32 %40, %21\l  %43 = add i32 %34, %42\l  %44 = sext i32 %43 to i64\l  %45 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %44\l  %46 = load i8, i8 addrspace(1)* %45, align 1, !tbaa !20, !amdgpu.noclobber !5\l  %47 = zext i8 %46 to i32\l  %48 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %47\l  %49 = atomicrmw add i32 addrspace(3)* %48, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %50 = or i32 %40, 1\l  %51 = mul nsw i32 %50, %21\l  %52 = add i32 %34, %51\l  %53 = sext i32 %52 to i64\l  %54 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %53\l  %55 = load i8, i8 addrspace(1)* %54, align 1, !tbaa !20, !amdgpu.noclobber !5\l  %56 = zext i8 %55 to i32\l  %57 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %56\l  %58 = atomicrmw add i32 addrspace(3)* %57, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %59 = or i32 %40, 2\l  %60 = mul nsw i32 %59, %21\l  %61 = add i32 %34, %60\l  %62 = sext i32 %61 to i64\l  %63 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %62\l  %64 = load i8, i8 addrspace(1)* %63, align 1, !tbaa !20, !amdgpu.noclobber !5\l  %65 = zext i8 %64 to i32\l  %66 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %65\l  %67 = atomicrmw add i32 addrspace(3)* %66, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %68 = or i32 %40, 3\l  %69 = mul nsw i32 %68, %21\l  %70 = add i32 %34, %69\l  %71 = sext i32 %70 to i64\l  %72 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %71\l  %73 = load i8, i8 addrspace(1)* %72, align 1, !tbaa !20, !amdgpu.noclobber !5\l  %74 = zext i8 %73 to i32\l  %75 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %74\l  %76 = atomicrmw add i32 addrspace(3)* %75, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %77 = or i32 %40, 4\l  %78 = mul nsw i32 %77, %21\l  %79 = add i32 %34, %78\l  %80 = sext i32 %79 to i64\l  %81 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %80\l  %82 = load i8, i8 addrspace(1)* %81, align 1, !tbaa !20, !amdgpu.noclobber !5\l  %83 = zext i8 %82 to i32\l  %84 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %83\l  %85 = atomicrmw add i32 addrspace(3)* %84, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %86 = or i32 %40, 5\l  %87 = mul nsw i32 %86, %21\l  %88 = add i32 %34, %87\l  %89 = sext i32 %88 to i64\l  %90 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %89\l  %91 = load i8, i8 addrspace(1)* %90, align 1, !tbaa !20, !amdgpu.noclobber !5\l  %92 = zext i8 %91 to i32\l  %93 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %92\l  %94 = atomicrmw add i32 addrspace(3)* %93, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %95 = or i32 %40, 6\l  %96 = mul nsw i32 %95, %21\l  %97 = add i32 %34, %96\l  %98 = sext i32 %97 to i64\l  %99 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %98\l  %100 = load i8, i8 addrspace(1)* %99, align 1, !tbaa !20, !amdgpu.noclobber\l... !5\l  %101 = zext i8 %100 to i32\l  %102 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %101\l  %103 = atomicrmw add i32 addrspace(3)* %102, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %104 = or i32 %40, 7\l  %105 = mul nsw i32 %104, %21\l  %106 = add i32 %34, %105\l  %107 = sext i32 %106 to i64\l  %108 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %107\l  %109 = load i8, i8 addrspace(1)* %108, align 1, !tbaa !20, !amdgpu.noclobber\l... !5\l  %110 = zext i8 %109 to i32\l  %111 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %110\l  %112 = atomicrmw add i32 addrspace(3)* %111, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %113 = add nuw nsw i32 %40, 8\l  %114 = add i32 %41, 8\l  %115 = icmp eq i32 %114, %38\l  br i1 %115, label %116, label %39, !llvm.loop !21\l|{<s0>T|<s1>F}}"];
	Node0x57245c0:s0 -> Node0x5724370;
	Node0x57245c0:s1 -> Node0x57245c0;
	Node0x5724370 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#d9dce170",label="{%116:\l116:                                              \l  %117 = phi i32 [ 0, %33 ], [ %113, %39 ]\l  %118 = icmp eq i32 %35, 0\l  br i1 %118, label %133, label %119\l|{<s0>T|<s1>F}}"];
	Node0x5724370:s0 -> Node0x5723080;
	Node0x5724370:s1 -> Node0x5728700;
	Node0x5728700 [shape=record,color="#b70d28ff", style=filled, fillcolor="#b70d2870",label="{%119:\l119:                                              \l  %120 = phi i32 [ %130, %119 ], [ %117, %116 ]\l  %121 = phi i32 [ %131, %119 ], [ 0, %116 ]\l  %122 = mul nsw i32 %120, %21\l  %123 = add i32 %34, %122\l  %124 = sext i32 %123 to i64\l  %125 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %124\l  %126 = load i8, i8 addrspace(1)* %125, align 1, !tbaa !20, !amdgpu.noclobber\l... !5\l  %127 = zext i8 %126 to i32\l  %128 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %127\l  %129 = atomicrmw add i32 addrspace(3)* %128, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  %130 = add nuw nsw i32 %120, 1\l  %131 = add i32 %121, 1\l  %132 = icmp eq i32 %131, %35\l  br i1 %132, label %133, label %119, !llvm.loop !23\l|{<s0>T|<s1>F}}"];
	Node0x5728700:s0 -> Node0x5723080;
	Node0x5728700:s1 -> Node0x5728700;
	Node0x5723080 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ead5c970",label="{%133:\l133:                                              \l  %134 = phi i32 [ 0, %25 ], [ %29, %119 ], [ %29, %116 ]\l  %135 = icmp ne i32 %31, 0\l  %136 = icmp slt i32 %15, %31\l  %137 = select i1 %135, i1 %136, i1 false\l  br i1 %137, label %138, label %148\l|{<s0>T|<s1>F}}"];
	Node0x5723080:s0 -> Node0x57267c0;
	Node0x5723080:s1 -> Node0x5729850;
	Node0x57267c0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#cbd8ee70",label="{%138:\l138:                                              \l  %139 = mul nsw i32 %134, %21\l  %140 = add i32 %15, %1\l  %141 = add i32 %140, %139\l  %142 = sext i32 %141 to i64\l  %143 = getelementptr inbounds i8, i8 addrspace(1)* %0, i64 %142\l  %144 = load i8, i8 addrspace(1)* %143, align 1, !tbaa !20, !amdgpu.noclobber\l... !5\l  %145 = zext i8 %144 to i32\l  %146 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %145\l  %147 = atomicrmw add i32 addrspace(3)* %146, i32 1 syncscope(\"agent-one-as\")\l... monotonic, align 4\l  br label %148\l}"];
	Node0x57267c0 -> Node0x5729850;
	Node0x5729850 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ead5c970",label="{%148:\l148:                                              \l  fence syncscope(\"workgroup\") release\l  tail call void @llvm.amdgcn.s.barrier()\l  fence syncscope(\"workgroup\") acquire\l  br i1 %22, label %149, label %155\l|{<s0>T|<s1>F}}"];
	Node0x5729850:s0 -> Node0x572a0a0;
	Node0x5729850:s1 -> Node0x572a0f0;
	Node0x572a0a0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#cbd8ee70",label="{%149:\l149:                                              \l  %150 = zext i32 %14 to i64\l  %151 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(1)*\l... @glb_hist, i64 0, i64 %150\l  %152 = getelementptr inbounds [256 x i32], [256 x i32] addrspace(3)*\l... @_ZZ14calc_histogramPhiiE4hist, i32 0, i32 %14\l  %153 = load i32, i32 addrspace(3)* %152, align 4, !tbaa !16\l  %154 = atomicrmw add i32 addrspace(1)* %151, i32 %153\l... syncscope(\"agent-one-as\") monotonic, align 4\l  br label %155\l}"];
	Node0x572a0a0 -> Node0x572a0f0;
	Node0x572a0f0 [shape=record,color="#3d50c3ff", style=filled, fillcolor="#ead5c970",label="{%155:\l155:                                              \l  ret void\l}"];
}
