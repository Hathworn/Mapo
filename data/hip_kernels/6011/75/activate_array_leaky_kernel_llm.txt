// Use register memory for improved performance
// Replace division for better optimization